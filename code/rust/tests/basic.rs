// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸¤ä¸ªi32ç±»å‹çš„32ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œè¿”å›å®ƒä»¬çš„å’Œ
fn add(i: i32, j: i32) -> i32 {
    // è¿”å›ç›¸åŠ å€¼ï¼Œè¿™é‡Œå¯ä»¥çœç•¥return
    i + j
}

#[test]
fn test() {
    // ä½¿ç”¨letæ¥å£°æ˜å˜é‡ï¼Œè¿›è¡Œç»‘å®šï¼Œaæ˜¯ä¸å¯å˜çš„
    // æ­¤å¤„æ²¡æœ‰æŒ‡å®šaçš„ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šé»˜è®¤æ ¹æ®açš„å€¼ä¸ºaæ¨æ–­ç±»å‹ï¼ši32ï¼Œæœ‰ç¬¦å·32ä½æ•´æ•°
    // è¯­å¥çš„æœ«å°¾å¿…é¡»ä»¥åˆ†å·ç»“å°¾
    let a = 10;
    // ä¸»åŠ¨æŒ‡å®šbçš„ç±»å‹ä¸ºi32
    let b: i32 = 20;
    // è¿™é‡Œæœ‰ä¸¤ç‚¹å€¼å¾—æ³¨æ„ï¼š
    // 1. å¯ä»¥åœ¨æ•°å€¼ä¸­å¸¦ä¸Šç±»å‹:30i32è¡¨ç¤ºæ•°å€¼æ˜¯30ï¼Œç±»å‹æ˜¯i32
    // 2. cæ˜¯å¯å˜çš„ï¼Œmutæ˜¯mutableçš„ç¼©å†™
    let c = 30i32;
    // è¿˜èƒ½åœ¨æ•°å€¼å’Œç±»å‹ä¸­é—´æ·»åŠ ä¸€ä¸ªä¸‹åˆ’çº¿ï¼Œè®©å¯è¯»æ€§æ›´å¥½
    let d = 30_i32;
    // è·Ÿå…¶å®ƒè¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°
    let e = add(add(a, b), add(c, d));

    // println!æ˜¯å®è°ƒç”¨ï¼Œçœ‹èµ·æ¥åƒæ˜¯å‡½æ•°ä½†æ˜¯å®ƒè¿”å›çš„æ˜¯å®å®šä¹‰çš„ä»£ç å—
    // è¯¥å‡½æ•°å°†æŒ‡å®šçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸­(æ§åˆ¶å°)
    // {}æ˜¯å ä½ç¬¦ï¼Œåœ¨å…·ä½“æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŠŠeçš„å€¼ä»£å…¥è¿›æ¥
    println!("( a + b ) + ( c + d ) = {}", e);
}

#[test]
fn a() {
    let a = "41".parse::<i32>();
    println!("{:?}", a);

    let c = 'z';
    let z = 'â„¤';
    let g = 'å›½';
    let cat = 'ğŸ˜»';

    println!("'z' memory size: {} bytes", std::mem::size_of_val(&c));
    println!("'â„¤' memory size: {} bytes", std::mem::size_of_val(&z));
    println!("'å›½' memory size: {} bytes", std::mem::size_of_val(&g));
    println!("'ğŸ˜»' memory size: {} bytes", std::mem::size_of_val(&cat));

    let a = true;
    println!("{} memory size: {} bytes", a, std::mem::size_of_val(&a));

    let c = ();
    println!("() memory size: {:?} bytes", std::mem::size_of_val(&c));
}

#[test]
fn compound_types() {
    let arr = [[2, 4, 6, 8], [1, 2, 3, 5], [4, 5, 8, 3], [5, 8, 9, 2]];
    let row = arr.len();
    println!("{:?}", arr);
}

fn add2<T: std::ops::Add<Output = T>>(a: T, b: T) -> T {
    a + b
}
